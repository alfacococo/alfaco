<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Title</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

<main>
  <div  id="myNav" class="overlay">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <div class="overlay-content">
    <a href="#section1" onclick="navigateAndClose()">Profile</a>
    <a href="#section2" onclick="navigateAndClose()">Hobby</a>
    <a href="#section4" onclick="navigateAndClose()">My Favorite Tea</a>
    <a href="#section5" onclick="navigateAndClose()">Other People</a>
    </div>
  </div>
  <header class="header" >      <!-- 按照模版网站，改成了上下两个部分！增加了top-row，放Font Awesome的CSS -El -->
  <div class="top-row">
    <div class="logo">
      <img src="my_page_image/Logo.png" alt="Logo">
      <span>Na-i</span>   <!-- 随便填了一个logo旁边的网页主题 -El -->
    </div>
    <div class="icons">     <!-- 这里放了具体的 Font Awesome的CSS -El -->
      <i class="fa-solid fa-magnifying-glass"></i>
      <i class="fa-solid fa-bars" onclick="openNav()"></i>
    </div>
  </div>
  <nav class="menu">
    <a href="#section1">Profile</a>
    <a href="#section2">Hobby</a>
    <a href="#section4">My Favorite Tea</a>
    <a href="#section5">Other People</a>
  </nav>
</header>

  <section class="section">
  <div class="mv">
    <img src="my_page_image/mv.jpg" alt="main visual">
    <p class="copy1">ほっとひといき</p>
    <p class="copy2">お茶の時間</p>
  </div>
  </section>

  <section class="intro section" id="section1">
    <div class="intro_content blurTrigger">
      <h1>わたしの<br>こと</h1>
      <h2>about</h2>
      <p>
        香りの茶と花に魅せられて、<br>
        一口で心がほぐれる。<br>
        日々、離れられぬ癒しのひととき。<br>
        その彩り、わが生活を満たして。</p>
      <a href="#">my profile</a>
    </div>
    <div class="about_img">
      <img src="my_page_image/about.png" alt="">
    </div>
  </section>

  <section class="favorite section" id="section2">
    <h1 class="blurTrigger">お茶を飲んでいます</h1>
    <h2 class="blurTrigger">Tea</h2>
    <img class="test" src="my_page_image/girls.png">
    <ul>
      <li><img src="my_page_image/tea1.png" alt=""></li>
      <li><img src="my_page_image/tea2.png" alt=""></li>
      <li><img src="my_page_image/tea3.png" alt=""></li>
    </ul>
    <div class="favorite_content">
      <p class="blurTrigger">窓辺の柔らかな陽光に包まれ、一口ごとに心が静まります。<br>
        立ち上る湯気が時の流れを穏やかにし、茶碗に映る自分に今を感じます。<br>
        この一杯は日常の中の小さな奇跡、心を満たす瞬間です。</p>
      <a href="#">view more</a>
    </div>
  </section>

  <section class="favorite section" id="section3">
    <h1 class="blurTrigger">お花を挿しています</h1>
    <h2 class="blurTrigger">Flower</h2>
    <img class="test2" src="my_page_image/victorian.png" alt="">
    <ul>
      <li><img src="my_page_image/flower1.png" alt=""></li>
      <li><img src="my_page_image/flower2.png" alt=""></li>
      <li><img src="my_page_image/flower3.png" alt=""></li>
    </ul>
    <div class="favorite_content">
      <p class="blurTrigger">絵の花は永遠の美、本物の花は一瞬の輝き。<br>
        どちらも私の心を豊かにし、色彩と香りの調和で日常を彩ります。<br>
        絵の中の静かな物語と、風に揺れる自然の旋律、その両方が私の心に深い感動を与えます。</p>
      <a href="#">view more</a>
    </div>
  </section>

<section class="favorite_tea section" id="section4">
  <div class="favorite_tea_title">
    <h1>My Favorite Tea</h1>
    <p>pick up</p>
  </div>
  <div class="gallery">
    <div class="slideshow-container">
    <div class="mySlide fade">
      <ul>
        <li class="slide01 slide fade">
          <div class="bxslider-caption">
            <p class="number">01</p>
            <div>
              <p>白桃烏龍</p>
              <p>Oolong Tea</p>
            </div>
            <p>
              上質な台湾産烏龍茶に、みずみずしい白桃の香りが優雅に重なります。
              柔らかな桃の香りが漂い、烏龍茶本来の爽やかな味わいを一層引き立てます。
              飲むたびに広がる芳香と共に、心地よい余韻が残り、至福のひとときを届けてくれる逸品です。 </p>
          </div>
        </li>
        <li class="slide02 slide fade">
          <div class="bxslider-caption">
            <p class="number">02</p>
            <div>
              <p>完熟マンゴー烏龍</p>
              <p>Ripe Mango Oolong</p>
            </div>
            <p>
              完熟マンゴーの甘くとろける香りを纏った上質な台湾烏龍茶。
              濃厚な甘さと爽やかな味わいが調和し、アイスティーにも最適です。
              宮崎マンゴーのように赤く艶やかな皮から漂う完熟マンゴーの香りを追求した本格的なフレーバードティー。
              トロピカルな風味が口いっぱいに広がり、至福のひとときを楽しめます。            </p>
          </div>
        </li>
        <li class="slide03 slide fade">
          <div class="bxslider-caption">
            <p class="number">03</p>
            <div>
              <p>ピッコロ</p>
              <p>PICCOLO</p>
            </div>
            <p>
              華やかなベリー、アプリコット、ハニーの香りが漂うルイボスティーを飲むと、心が穏やかに満たされます。
              ミルクを加えるとさらに美味しさが引き立ちます。
              ノンカフェインなので安心して飲め、「PICCOLO」という名にふさわしく、小さく可愛い黄色のあられが目にも楽しいです。
              この一杯が毎日のティータイムに幸せをもたらしてくれます。            </p>
          </div>
        </li>
      </ul>
    </div>
  </div>
    <div class="prev-btn">
      <a class="bx-prev" onclick="plusSlides(-1)"><img src="my_page_image/ar-back.png" alt=""></a>
    </div>
    <div class="next-btn">
      <a class="bx-next" onclick="plusSlides(1)"><img src="my_page_image/ar-next.png" alt=""></a>
    </div>
  </div >

</section>

<section class="footer section" id="section5">
  <h1>SOME AWESOME WORK</h1>
  <div class="dividing_line"><img src="my_page_image/Logo.png" alt=""></div>
  <ul>
    <li><a href="https://1027yeqi.github.io/Rain-Bow/">QUEEN |</a></li>
    <li><a>Kikyo | K_Diary</a></li>
    <li><a href="https://meimeimeimxn.github.io/utopia/">MEI | Utopian</a></li>
    <li><a href="https://kuma53348.github.io/XIONG-Kuma-Photography/">XIONG | Kuma Photography</a></li>
    <li><a href="https://arlen77.github.io/tudo-1.github.io/#Photos">Tudo | Life In Japan Chronicles</a></li>
    <li><a href="https://na-i-project.github.io/Illustration-in-2024/">QINRUI XIE | Illustrations in 2024</a></li>
    <li><a href="https://elliez1224.github.io/Grogu/">Ellie丨This is the way.</a></li>
  </ul>

  <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
  <div class="footer_bgd"></div>
</section>

</main>
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        let currentSectionIndex = 0;
        const sections = document.querySelectorAll('section');
        let isScrolling = false;

        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.5 // 50% of the section should be visible
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    currentSectionIndex = [...sections].indexOf(entry.target);
                }
            });
        }, observerOptions);

        sections.forEach(section => {
            observer.observe(section);
        });

        window.addEventListener('wheel', (event) => {
            if (isScrolling) return;
            isScrolling = true;

            if (event.deltaY > 0) {
                scrollToSection(currentSectionIndex + 1);
            } else {
                scrollToSection(currentSectionIndex - 1);
            }
        });

        function scrollToSection(index) {
            if (index < 0 || index >= sections.length) {
                isScrolling = false;
                return;
            }

            const targetPosition = sections[index].offsetTop;
            const startPosition = window.scrollY;
            const distance = targetPosition - startPosition;
            const duration = 500;
            let start = null;

            function step(timestamp) {
                if (!start) start = timestamp;
                const progress = timestamp - start;
                const percent = Math.min(progress / duration, 1);
                window.scrollTo(0, startPosition + distance * percent);

                if (progress < duration) {
                    requestAnimationFrame(step);
                } else {
                    currentSectionIndex = index;
                    isScrolling = false;
                }
            }

            requestAnimationFrame(step);
        }
    });


    let slideIndex = 0;
    let slideTimer;

    showSlides();

    function plusSlides(n) {
        clearTimeout(slideTimer); // 清除之前的计时器
        slideIndex += n;
        showSlides(true); // 在手动切换时传递一个参数
    }

    function showSlides(manual = false) {
        let i;
        let slides = document.getElementsByClassName("slide");
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        if (manual) {
            if (slideIndex > slides.length) { slideIndex = 1 }
            if (slideIndex < 1) { slideIndex = slides.length }
        } else {
            slideIndex++;
            if (slideIndex > slides.length) { slideIndex = 1 }
        }
        slides[slideIndex - 1].style.display = "block";
        slideTimer = setTimeout(showSlides, 2000); // 每2秒切换一次
    }

    // Get the button:
    let mybutton = document.getElementById("myBtn");

    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function() {scrollFunction()};

    function scrollFunction() {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            mybutton.style.display = "block";
        } else {
            mybutton.style.display = "none";
        }
    }

    // When the user clicks on the button, scroll to the top of the document
    function topFunction() {
        document.body.scrollTop = 0; // For Safari
        document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    }

    function openNav() {
        document.getElementById("myNav").style.width = "100%";
    }
    function closeNav() {
        document.getElementById("myNav").style.width = "0";
    }

    function navigateAndClose() {
        // Add navigation logic here if needed, for example:
        // window.location.href = 'your-target-url';
        closeNav();
    }

    // blurTriggerにblurというクラス名を付ける定義

    function BlurTextAnimeControl() {
        $('.blurTrigger').each(function(){ //blurTriggerというクラス名が
            var elemPos = $(this).offset().top-50;//要素より、50px上の
            var scroll = $(window).scrollTop();
            var windowHeight = $(window).height();
            if (scroll >= elemPos - windowHeight){
                $(this).addClass('blur');// 画面内に入ったらblurというクラス名を追記
            }else{
                $(this).removeClass('blur');// 画面外に出たらblurというクラス名を外す
            }
        });
    }

    // 画面をスクロールをしたら動かしたい場合の記述
    $(window).scroll(function () {
        BlurTextAnimeControl();/* アニメーション用の関数を呼ぶ*/
    });// ここまで画面をスクロールをしたら動かしたい場合の記述

    // 画面が読み込まれたらすぐに動かしたい場合の記述
    $(window).on('load', function () {
        BlurTextAnimeControl();/* アニメーション用の関数を呼ぶ*/
    });// ここまで画面が読み込まれたらすぐに動かしたい場合の記述

</script>
</body>
</html>
